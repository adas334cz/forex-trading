<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forex Trading Predictions</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        header, footer {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 1em;
        }
        main {
            margin: 20px;
        }
        .widget-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
        }
        .widget {
            flex: 1 1 45%;
            margin: 10px;
        }
        .predictions {
            margin-top: 20px;
        }
        .prediction {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 10px;
        }
        .sell {
            color: red;
        }
        .buy {
            color: green;
        }
    </style>
</head>
<body>
    <header>
        <h1>Forex Trading Predictions</h1>
    </header>
    <main>
        <div class="widget-container">
            <div class="widget">
                <div id="tradingview_f3d60"></div>
                <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
                <script type="text/javascript">
                new TradingView.widget({
                    "width": "100%",
                    "height": 400,
                    "symbol": "FX:EURUSD",
                    "interval": "D",
                    "timezone": "Etc/UTC",
                    "theme": "light",
                    "style": "1",
                    "locale": "en",
                    "toolbar_bg": "#f1f3f6",
                    "enable_publishing": false,
                    "hide_side_toolbar": false,
                    "allow_symbol_change": true,
                    "container_id": "tradingview_f3d60"
                });
                </script>
            </div>
            <div class="widget">
                <div id="tradingview_f3d61"></div>
                <script type="text/javascript">
                new TradingView.widget({
                    "width": "100%",
                    "height": 400,
                    "symbol": "FX:USDJPY",
                    "interval": "D",
                    "timezone": "Etc/UTC",
                    "theme": "light",
                    "style": "1",
                    "locale": "en",
                    "toolbar_bg": "#f1f3f6",
                    "enable_publishing": false,
                    "hide_side_toolbar": false,
                    "allow_symbol_change": true,
                    "container_id": "tradingview_f3d61"
                });
                </script>
            </div>
        </div>
        <div class="predictions">
            <h2>Predictions</h2>
            <div id="predictions-container"></div>
        </div>
    </main>
    <footer>
        <p>&copy; 2024 Forex Trading Predictions</p>
    </footer>
    <script>
        async function fetchPredictions(symbol) {
            try {
                const response = await fetch(`https://your-app-name.onrender.com/predict/${symbol}`);
                const data = await response.json();
                displayPredictions(data);
            } catch (error) {
                console.error('Error fetching predictions:', error);
            }
        }

        function displayPredictions(predictions) {
            const container = document.getElementById('predictions-container');
            container.innerHTML = '';

            if (predictions.error) {
                container.innerHTML = `<p>${predictions.error}</p>`;
                return;
            }

            const sellPrediction = document.createElement('div');
            sellPrediction.classList.add('prediction', 'sell');
            sellPrediction.innerHTML = `
                <h3>Sell</h3>
                <p>Entry: ${predictions.sell.entry}</p>
                <p>Stop Loss: ${predictions.sell.stop_loss}</p>
                <p>Take Profit: ${predictions.sell.take_profit}</p>
            `;

            const buyPrediction = document.createElement('div');
            buyPrediction.classList.add('prediction', 'buy');
            buyPrediction.innerHTML = `
                <h3>Buy</h3>
                <p>Entry: ${predictions.buy.entry}</p>
                <p>Stop Loss: ${predictions.buy.stop_loss}</p>
                <p>Take Profit: ${predictions.buy.take_profit}</p>
            `;

            container.appendChild(sellPrediction);
            container.appendChild(buyPrediction);
        }

        // Fetch predictions for a default symbol
        fetchPredictions('OANDA:EUR_USD');
    </script>
</body>
</html>
